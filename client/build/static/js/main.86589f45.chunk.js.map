{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","data","type","payload","console","log","handleToken","token","post","Payments","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","style","margin","credits","to","renderNavContent","Landing","SurveyNew","Dashboard","App","exact","path","component","LandingPage","React","combineReducers","state","action","store","createStore","reducers","applyMiddleware","reduxThunk","jsx","ReactDOM","render","document","getElementById"],"mappings":"2ZAIaA,EAAY,yDAAM,WAAOC,GAAP,iBAAAC,EAAA,+EAENC,IAAMC,IAAI,qBAFJ,gBAErBC,EAFqB,EAErBA,KACNJ,EAAS,CACPK,KCRoB,aDSpBC,QAASF,IALgB,gDAQ3BG,QAAQC,IAAR,MAR2B,yDAAN,uDAYZC,EAAc,SAACC,GAAD,8CAAW,WAAOV,GAAP,iBAAAC,EAAA,+EAEbC,IAAMS,KAAK,cAAeD,GAFb,gBAE5BN,EAF4B,EAE5BA,KACNJ,EAAS,CACPK,KCpBoB,aDqBpBC,QAASF,IALuB,gDAQlCG,QAAQC,IAAR,MARkC,yDAAX,uDEXrBI,E,uKAEM,IAAD,OACP,OACE,kBAAC,IAAD,CACEC,OAAQ,IACRH,MAAO,SAACA,GAAD,OAAW,EAAKI,MAAML,YAAYC,IACzCK,UAAWC,+GAEX,4BAAQC,UAAU,OAAlB,oB,GATeC,aAeRC,cAAQ,KAAMC,EAAdD,CAAuBP,GChBhCS,E,iLAEF,OAAQC,KAAKR,MAAMS,MACjB,KAAK,KACH,OACF,KAAK,EACH,OACE,4BACE,uBAAGC,KAAK,gBAAR,sBAGN,QACE,MAAO,CACL,wBAAIC,IAAI,KACN,kBAAC,EAAD,OAEF,wBAAIA,IAAI,IAAIC,MAAO,CAAEC,OAAQ,WAA7B,aACaL,KAAKR,MAAMS,KAAKK,SAE7B,wBAAIH,IAAI,KACN,uBAAGD,KAAK,eAAR,e,+BAMR,OACE,6BACE,yBAAKP,UAAU,eACb,kBAAC,IAAD,CACEY,GAAIP,KAAKR,MAAMS,KAAO,WAAa,IACnCN,UAAU,mBAFZ,SAMA,wBAAIA,UAAU,SAASK,KAAKQ,0B,GAnCjBZ,aA8CNC,eAJS,SAAC,GACvB,MAAO,CAAEI,KAD2B,EAAXA,QAIZJ,CAAyBE,GCzCzBU,EAPC,kBACd,6BACE,wBAAId,UAAU,UAAd,SACA,wBAAIA,UAAU,UAAd,uCCEEe,EAAY,kBAAM,wBAAIf,UAAU,UAAd,yBAClBgB,EAAY,kBAAM,wBAAIhB,UAAU,UAAd,yBAElBiB,E,kLAEFZ,KAAKR,MAAMf,c,+BAGX,OACE,6BACE,kBAAC,IAAD,KACE,yBAAKkB,UAAU,aACb,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOkB,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC,kBAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,WAAWC,UAAWJ,IACxC,kBAAC,IAAD,CAAOG,KAAK,eAAeC,UAAWL,W,GAZhCO,IAAMrB,WAoBTC,cAAQ,KAAMC,EAAdD,CAAuBe,GC3BvBM,cAAgB,CAC7BjB,KCFa,WAAyB,IAAxBkB,EAAuB,uDAAf,GAAIC,EAAW,uCACrC,OAAQA,EAAOrC,MACb,INJsB,aMKpB,OAAOqC,EAAOpC,UAAW,EAC3B,QACE,OAAOmC,MCGTE,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAClDC,EACF,kBAAC,IAAD,CAAUL,MAAOA,GACf,kBAAC,EAAD,OAGJM,IAASC,OAAOF,EAAKG,SAASC,eAAe,W","file":"static/js/main.86589f45.chunk.js","sourcesContent":["import axios from \"axios\";\n\nimport { FETCH_USER } from \"./types\";\n\nexport const fetchUser = () => async (dispatch) => {\n  try {\n    let { data } = await axios.get(\"/api/current_user\");\n    dispatch({\n      type: FETCH_USER,\n      payload: data,\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const handleToken = (token) => async (dispatch) => {\n  try {\n    let { data } = await axios.post(\"/api/stripe\", token);\n    dispatch({\n      type: FETCH_USER,\n      payload: data,\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n","export const FETCH_USER = \"fetch_user\";\n","import React, { Component } from \"react\";\nimport StripeChekout from \"react-stripe-checkout\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\n\nclass Payments extends Component {\n  \n  render() {\n    return (\n      <StripeChekout\n        amount={500}\n        token={(token) => this.props.handleToken(token)}\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n        <button className=\"btn\">Add Credits</button>\n      </StripeChekout>\n    );\n  }\n}\n\nexport default connect(null, actions)(Payments);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Payments from \"./Payments\";\nclass Header extends Component {\n  renderNavContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        return (\n          <li>\n            <a href=\"/auth/google\">Login With Google</a>\n          </li>\n        );\n      default:\n        return [\n          <li key=\"1\">\n            <Payments />\n          </li>,\n          <li key=\"3\" style={{ margin: \"0 10px\" }}>\n            Credits : {this.props.auth.credits}\n          </li>,\n          <li key=\"2\">\n            <a href=\"/api/logout\">Logout</a>\n          </li>,\n        ];\n    }\n  }\n  render() {\n    return (\n      <nav>\n        <div className=\"nav-wrapper\">\n          <Link\n            to={this.props.auth ? \"/surveys\" : \"/\"}\n            className=\"left brand-logo\"\n          >\n            Feedy\n          </Link>\n          <ul className=\"right\">{this.renderNavContent()}</ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }) => {\n  return { auth };\n};\n\nexport default connect(mapStateToProps)(Header);\n","import React from \"react\";\n\nconst Landing = () => (\n  <div> \n    <h2 className=\"center\">Feedy</h2>\n    <h3 className=\"center\"> Get feedback from your customers</h3>\n  </div>\n);\n\nexport default Landing;\n","import React from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\nimport LandingPage from \"./Landing\";\n\nconst SurveyNew = () => <h2 className=\"center\">Hi i'm the SurveyNew</h2>;\nconst Dashboard = () => <h2 className=\"center\">Hi i'm the Dashboard</h2>;\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.fetchUser();\n  }\n  render() {\n    return (\n      <div>\n        <BrowserRouter>\n          <div className=\"container\">\n            <Header />\n            <Route exact path=\"/\" component={LandingPage} />\n            <Route exact path=\"/surveys\" component={Dashboard} />\n            <Route path=\"/surveys/new\" component={SurveyNew} />\n          </div>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, actions)(App);\n","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n});\n","import { FETCH_USER } from \"../actions/types\";\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_USER:\n      return action.payload || false;\n    default:\n      return state;\n  }\n};\n","import \"materialize-css/dist/css/materialize.min.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport reduxThunk from \"redux-thunk\";\n\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\n\nlet store = createStore(reducers, {}, applyMiddleware(reduxThunk));\nlet jsx = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\nReactDOM.render(jsx, document.getElementById(\"root\"));\n"],"sourceRoot":""}